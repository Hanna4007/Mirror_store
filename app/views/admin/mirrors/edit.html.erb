
<%= link_to "All mirrors", mirrors_path %>

<h4>Edit</h4>

<%= form_with model: [:admin, @mirror] do |form| %>
  
<p><%= form.label :name %> 
<%= form.text_field :name %> </p>
<p> <% @mirror.errors.full_messages_for(:name).each do |message|  %>
    <%= message %>
  <% end %> </p>

<p><%= form.label :height %> 
<%= form.select :height, [50, 80, 100], {}, { onchange: 'this.form.submit();' }  %> 
<%= form.submit type: :hidden %></p>

<p><%= form.label :width %>
<%= form.select :width, [50, 80], {}, { onchange: 'this.form.submit();' }  %> 
<%= form.submit type: :hidden %></p>

<p><%= form.label :glass_thickness %>
<%= form.select :glass_thickness, [4, 6], {}, { onchange: 'this.form.submit();' } %>
<%= form.submit type: :hidden %></p>

<p><%= form.label :light %> 
<%= form.select :light, [ 'warm', 'neutral', 'cold' ] %> 

<p><%= form.label :heater %>
<%= form.check_box :heater, { onchange: 'this.form.submit();' } %> 
<%= form.submit type: :hidden %></p>

<p> <%= form.label :installation %>
<%= form.select :installation, [ 'wall', 'table' ] %> </p>

<p> <%= form.label :lamp %>
<%= form.select :lamp, [ 'built-in', 'outside' ]  %> </p>


<p><%= form.label :price_square %> 
<%= form.text_field :price_square %> $ per square meter </p>
<p> <% @mirror.errors.full_messages_for(:price_square).each do |message|  %>
    <%= message %>
  <% end %> </p>

<p> <%= form.label :mirror_images %> </p>

 <% if @mirror.mirror_images.attached?%>
          <%  @mirror.mirror_images.map do |mirror_image|%>
            <%=  image_tag mirror_image.variant(resize_to_limit: [218, 185]).processed %>
          <% end%>
        <% end%>
<p><%= form.file_field :mirror_images,  multiple: true, include_hidden: false %> </p>

<!-- <p>
  <%= form.label :mirror_images, "Add image", class: 'btn btn-outline-secondary text-black' %>
  <%= form.file_field :mirror_images, multiple: true, style: 'display: none', id: 'mirror_images_field' %>
</p> -->

<p><% if @mirror.mirror_images.attached?%>
 <%= link_to "Remove images", admin_mirror_mirror_images_path(@mirror), data: {
                    turbo_method: :delete,
                    turbo_confirm: "Are you sure?" 
                                      }, class: 'btn btn-outline-secondary text-black' %> 
                                      
                    <% end%> </p>

<p> <%= form.label :description %> </p>
<p> <%= form.text_area :description, rows: 15, cols: 150 %> </p>
<p> <% @mirror.errors.full_messages_for(:description).each do |message|  %>
    <%= message %>
  <% end %> </p>

<%= form.submit "Update", class: 'btn bg-success text-black' %>

<% end %>



